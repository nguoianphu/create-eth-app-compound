{"ast":null,"code":"import _regeneratorRuntime from\"/workspace/create-eth-app/my-eth-app-compund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/workspace/create-eth-app/my-eth-app-compund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/workspace/create-eth-app/my-eth-app-compund/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{Contract}from\"@ethersproject/contracts\";import{getDefaultProvider}from\"@ethersproject/providers\";import{useQuery}from\"@apollo/react-hooks\";import{Body,Button,Header,Image,Link}from\"./components\";import logo from\"./ethereumLogo.png\";import useWeb3Modal from\"./hooks/useWeb3Modal\";import{MAINNET_ID,addresses,abis}from\"@compound-app/contracts\";import GET_MONEY_MARKETS from\"./graphql/subgraph\";function readOnChainData(){return _readOnChainData.apply(this,arguments);}function _readOnChainData(){_readOnChainData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var defaultProvider,cDAIContract,cDAIBalance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Should replace with the end-user wallet, e.g. Metamask\ndefaultProvider=getDefaultProvider();// Create an instance of an ethers.js Contract\n// Read more about ethers.js on https://docs.ethers.io/v5/api/contract/contract/\ncDAIContract=new Contract(addresses[MAINNET_ID].tokens.cDAI,abis.tokens.cDAI,defaultProvider);// A pre-defined address that owns some cDAI tokens\n_context.next=4;return cDAIContract.balanceOf(\"0x3f8CB69d9c0ED01923F11c829BaE4D9a4CB6c82C\");case 4:cDAIBalance=_context.sent;console.log({cDAIBalance:cDAIBalance.toString()});case 6:case\"end\":return _context.stop();}}},_callee);}));return _readOnChainData.apply(this,arguments);}function WalletButton(_ref){var provider=_ref.provider,loadWeb3Modal=_ref.loadWeb3Modal,logoutOfWeb3Modal=_ref.logoutOfWeb3Modal;return/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){if(!provider){loadWeb3Modal();}else{logoutOfWeb3Modal();}}},!provider?\"Connect Wallet\":\"Disconnect Wallet\");}function App(){var _useQuery=useQuery(GET_MONEY_MARKETS),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;var _useWeb3Modal=useWeb3Modal(),_useWeb3Modal2=_slicedToArray(_useWeb3Modal,3),provider=_useWeb3Modal2[0],loadWeb3Modal=_useWeb3Modal2[1],logoutOfWeb3Modal=_useWeb3Modal2[2];React.useEffect(function(){if(!loading&&!error&&data&&data.markets){console.log({markets:data.markets});}},[loading,error,data]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null,/*#__PURE__*/React.createElement(WalletButton,{provider:provider,loadWeb3Modal:loadWeb3Modal,logoutOfWeb3Modal:logoutOfWeb3Modal})),/*#__PURE__*/React.createElement(Body,null,/*#__PURE__*/React.createElement(Image,{src:logo,alt:\"react-logo\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Edit \",/*#__PURE__*/React.createElement(\"code\",null,\"packages/react-app/src/App.js\"),\" and save to reload.\"),/*#__PURE__*/React.createElement(Button,{hidden:true,onClick:function onClick(){return readOnChainData();}},\"Read On-Chain Balance\"),/*#__PURE__*/React.createElement(Link,{href:\"https://ethereum.org/developers/#getting-started\",style:{marginTop:\"8px\"}},\"Learn Ethereum\"),/*#__PURE__*/React.createElement(Link,{href:\"https://reactjs.org\"},\"Learn React\"),/*#__PURE__*/React.createElement(Link,{href:\"https://compound.finance/developers\"},\"Learn Compound\")));}export default App;","map":{"version":3,"sources":["/workspace/create-eth-app/my-eth-app-compund/packages/react-app/src/App.js"],"names":["React","Contract","getDefaultProvider","useQuery","Body","Button","Header","Image","Link","logo","useWeb3Modal","MAINNET_ID","addresses","abis","GET_MONEY_MARKETS","readOnChainData","defaultProvider","cDAIContract","tokens","cDAI","balanceOf","cDAIBalance","console","log","toString","WalletButton","provider","loadWeb3Modal","logoutOfWeb3Modal","App","loading","error","data","useEffect","markets","marginTop"],"mappings":"seAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,0BAAzB,CACA,OAASC,kBAAT,KAAmC,0BAAnC,CACA,OAASC,QAAT,KAAyB,qBAAzB,CAEA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,MAAvB,CAA+BC,KAA/B,CAAsCC,IAAtC,KAAkD,cAAlD,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CAEA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,IAAhC,KAA4C,yBAA5C,CACA,MAAOC,CAAAA,iBAAP,KAA8B,oBAA9B,C,QAEeC,CAAAA,e,uJAAf,gLACE;AACMC,eAFR,CAE0Bd,kBAAkB,EAF5C,CAGE;AACA;AACMe,YALR,CAKuB,GAAIhB,CAAAA,QAAJ,CAAaW,SAAS,CAACD,UAAD,CAAT,CAAsBO,MAAtB,CAA6BC,IAA1C,CAAgDN,IAAI,CAACK,MAAL,CAAYC,IAA5D,CAAkEH,eAAlE,CALvB,CAME;AANF,sBAO4BC,CAAAA,YAAY,CAACG,SAAb,CAAuB,4CAAvB,CAP5B,QAOQC,WAPR,eAQEC,OAAO,CAACC,GAAR,CAAY,CAAEF,WAAW,CAAEA,WAAW,CAACG,QAAZ,EAAf,CAAZ,EARF,sD,kDAWA,QAASC,CAAAA,YAAT,MAAsE,IAA9CC,CAAAA,QAA8C,MAA9CA,QAA8C,CAApCC,aAAoC,MAApCA,aAAoC,CAArBC,iBAAqB,MAArBA,iBAAqB,CACpE,mBACE,oBAAC,MAAD,EACE,OAAO,CAAE,kBAAM,CACb,GAAI,CAACF,QAAL,CAAe,CACbC,aAAa,GACd,CAFD,IAEO,CACLC,iBAAiB,GAClB,CACF,CAPH,EASG,CAACF,QAAD,CAAY,gBAAZ,CAA+B,mBATlC,CADF,CAaD,CAED,QAASG,CAAAA,GAAT,EAAe,CACb,cAAiC1B,QAAQ,CAACW,iBAAD,CAAzC,CAAQgB,OAAR,WAAQA,OAAR,CAAiBC,KAAjB,WAAiBA,KAAjB,CAAwBC,IAAxB,WAAwBA,IAAxB,CACA,kBAAqDtB,YAAY,EAAjE,gDAAOgB,QAAP,mBAAiBC,aAAjB,mBAAgCC,iBAAhC,mBAEA5B,KAAK,CAACiC,SAAN,CAAgB,UAAM,CACpB,GAAI,CAACH,OAAD,EAAY,CAACC,KAAb,EAAsBC,IAAtB,EAA8BA,IAAI,CAACE,OAAvC,CAAgD,CAC9CZ,OAAO,CAACC,GAAR,CAAY,CAAEW,OAAO,CAAEF,IAAI,CAACE,OAAhB,CAAZ,EACD,CACF,CAJD,CAIG,CAACJ,OAAD,CAAUC,KAAV,CAAiBC,IAAjB,CAJH,EAMA,mBACE,4CACE,oBAAC,MAAD,mBACE,oBAAC,YAAD,EAAc,QAAQ,CAAEN,QAAxB,CAAkC,aAAa,CAAEC,aAAjD,CAAgE,iBAAiB,CAAEC,iBAAnF,EADF,CADF,cAIE,oBAAC,IAAD,mBACE,oBAAC,KAAD,EAAO,GAAG,CAAEnB,IAAZ,CAAkB,GAAG,CAAC,YAAtB,EADF,cAEE,kDACO,gEADP,wBAFF,cAME,oBAAC,MAAD,EAAQ,MAAM,KAAd,CAAe,OAAO,CAAE,yBAAMM,CAAAA,eAAe,EAArB,EAAxB,0BANF,cASE,oBAAC,IAAD,EAAM,IAAI,CAAC,kDAAX,CAA8D,KAAK,CAAE,CAAEoB,SAAS,CAAE,KAAb,CAArE,mBATF,cAYE,oBAAC,IAAD,EAAM,IAAI,CAAC,qBAAX,gBAZF,cAaE,oBAAC,IAAD,EAAM,IAAI,CAAC,qCAAX,mBAbF,CAJF,CADF,CAsBD,CAED,cAAeN,CAAAA,GAAf","sourcesContent":["import React from \"react\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { getDefaultProvider } from \"@ethersproject/providers\";\nimport { useQuery } from \"@apollo/react-hooks\";\n\nimport { Body, Button, Header, Image, Link } from \"./components\";\nimport logo from \"./ethereumLogo.png\";\nimport useWeb3Modal from \"./hooks/useWeb3Modal\";\n\nimport { MAINNET_ID, addresses, abis } from \"@compound-app/contracts\";\nimport GET_MONEY_MARKETS from \"./graphql/subgraph\";\n\nasync function readOnChainData() {\n  // Should replace with the end-user wallet, e.g. Metamask\n  const defaultProvider = getDefaultProvider();\n  // Create an instance of an ethers.js Contract\n  // Read more about ethers.js on https://docs.ethers.io/v5/api/contract/contract/\n  const cDAIContract = new Contract(addresses[MAINNET_ID].tokens.cDAI, abis.tokens.cDAI, defaultProvider);\n  // A pre-defined address that owns some cDAI tokens\n  const cDAIBalance = await cDAIContract.balanceOf(\"0x3f8CB69d9c0ED01923F11c829BaE4D9a4CB6c82C\");\n  console.log({ cDAIBalance: cDAIBalance.toString() });\n}\n\nfunction WalletButton({ provider, loadWeb3Modal, logoutOfWeb3Modal }) {\n  return (\n    <Button\n      onClick={() => {\n        if (!provider) {\n          loadWeb3Modal();\n        } else {\n          logoutOfWeb3Modal();\n        }\n      }}\n    >\n      {!provider ? \"Connect Wallet\" : \"Disconnect Wallet\"}\n    </Button>\n  );\n}\n\nfunction App() {\n  const { loading, error, data } = useQuery(GET_MONEY_MARKETS);\n  const [provider, loadWeb3Modal, logoutOfWeb3Modal] = useWeb3Modal();\n\n  React.useEffect(() => {\n    if (!loading && !error && data && data.markets) {\n      console.log({ markets: data.markets });\n    }\n  }, [loading, error, data]);\n\n  return (\n    <div>\n      <Header>\n        <WalletButton provider={provider} loadWeb3Modal={loadWeb3Modal} logoutOfWeb3Modal={logoutOfWeb3Modal} />\n      </Header>\n      <Body>\n        <Image src={logo} alt=\"react-logo\" />\n        <p>\n          Edit <code>packages/react-app/src/App.js</code> and save to reload.\n        </p>\n        {/* Remove the \"hidden\" prop and open the JavaScript console in the browser to see what this function does */}\n        <Button hidden onClick={() => readOnChainData()}>\n          Read On-Chain Balance\n        </Button>\n        <Link href=\"https://ethereum.org/developers/#getting-started\" style={{ marginTop: \"8px\" }}>\n          Learn Ethereum\n        </Link>\n        <Link href=\"https://reactjs.org\">Learn React</Link>\n        <Link href=\"https://compound.finance/developers\">Learn Compound</Link>\n      </Body>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}